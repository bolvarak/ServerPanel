///////////////////////////////////////////////////////////////////////////////
/// Definitions //////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

#define RPC_LISTEN_PORT 1597

///////////////////////////////////////////////////////////////////////////////
/// Headers //////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

#include "ServerPanelService.h"
#include <stdlib.h>
#include <iostream>

///////////////////////////////////////////////////////////////////////////////
/// Main() ///////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

int main () {
    // Start the service
    if (!ServerPanelService::Instance()->listen(QHostAddress::Any, RPC_LISTEN_PORT)) {
        // Send a fatal message
        qFatal("Could not bind the socket to localhost:1597!");
    }
    while (ServerPanelService::Instance()->isListening()) {
        ServerPanelService::Instance()->waitForNewConnection();
    }
    // We're done
    return 1;
}
