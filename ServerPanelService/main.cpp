///////////////////////////////////////////////////////////////////////////////
/// Definitions //////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

#define RPC_LISTEN_PORT 1597

///////////////////////////////////////////////////////////////////////////////
/// Headers //////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

#include <QCoreApplication>
#include <ServerPanelService.h>

///////////////////////////////////////////////////////////////////////////////
/// Main() ///////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

int main (int iArguments, char** aArguments) {
    // Setup the application
    QCoreApplication qcaApplication(iArguments, aArguments);
    // Check the arguments
    if (iArguments > 1) {
        // Handle the cli request
        ServerPanel::Instance()->HandleCliRequest(qcaApplication.arguments());
        // We're done
        qanApplication.exit();
    } else {
        // Instantiate the server
        ServerPanelService::Instance();
    }
    // Execute and return the application
    return qcaApplication.exec();
}
