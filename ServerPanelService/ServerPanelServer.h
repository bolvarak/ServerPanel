#ifndef SERVERPANELSERVER_H

///////////////////////////////////////////////////////////////////////////////
/// Definitions //////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

#define SERVERPANELSERVER_H

///////////////////////////////////////////////////////////////////////////////
/// Headers //////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

#include <QThread>
#include <QtNetwork/QTcpSocket>
#include "ServerPanelRpc.h"

///////////////////////////////////////////////////////////////////////////////
/// ServerPanelServer Definition /////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

class ServerPanelServer : public QThread {
    // Make sure this is seen as a QObject
    Q_OBJECT
// Public
public:
    // Singleton
    static ServerPanelServer* Instance();
    // Constructor
    ServerPanelServer                 (QObject* cParent = 0);
    // Methods
    void run                          ();
    // Setters
    void SetSocketDescriptor          (int iSocket);
// Protected
protected :
    // Properties
    static ServerPanelServer* mInstance; // Singleton Instance
    int                       mSocket;   // Socket Descriptor
// Signals
signals :
    void Error(QTcpSocket::SocketError qtsError);
// Slots
protected slots :
    void DisconnectClient();
    void HandleClient();
};
#endif
