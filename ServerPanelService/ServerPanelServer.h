#ifndef SERVERPANELSERVER_H

///////////////////////////////////////////////////////////////////////////////
/// Definitions //////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

#define SERVERPANELSERVER_H
#define RPC_PORT 1597

///////////////////////////////////////////////////////////////////////////////
/// Headers //////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

#include <QtNetwork/QTcpServer>
#include <QtNetwork/QTcpSocket>
#include "ServerPanelRpc.h"

///////////////////////////////////////////////////////////////////////////////
/// ServerPanelServer Definition /////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

class ServerPanelServer : public QTcpServer {
    // Make sure this is seen as a QObject
    Q_OBJECT
// Public
public:
    // Singleton
    static ServerPanelServer* Instance();
    // Methods
    void incomingConnection(int iSocket);
    void Pause             ();
    void Resume            ();
// Protected
protected :
    // Properties
    bool                      mDisabled; // Socket Status
    static ServerPanelServer* mInstance; // Singleton Instance
    // Constructor
    ServerPanelServer(QObject* cParent);
// Slots
protected slots :
    void DiscardClient();
    void ReadClient   ();
};
#endif
